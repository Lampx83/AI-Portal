// Built-in: en, zh, hi, es, vi (4 most spoken + Vietnam). Custom locales via Admin → Settings (upload package).
export const BUILTIN_LOCALES = ["en", "zh", "hi", "es", "vi"] as const
export type BuiltinLocale = (typeof BUILTIN_LOCALES)[number]
export type Locale = BuiltinLocale | string

const STORAGE_KEY = "neu-locale"

/** Validate locale code (2–5 chars, lowercase letters/numbers). */
export function isValidLocaleCode(code: string): boolean {
  return /^[a-z0-9]{2,5}$/.test(code)
}

export function getStoredLocale(): Locale {
  if (typeof window === "undefined") return "en"
  try {
    const v = localStorage.getItem(STORAGE_KEY)
    if (!v) return "en"
    if (BUILTIN_LOCALES.includes(v as BuiltinLocale)) return v as BuiltinLocale
    if (isValidLocaleCode(v)) return v
  } catch (_) {}
  return "en"
}

export function setStoredLocale(locale: Locale) {
  try {
    localStorage.setItem(STORAGE_KEY, String(locale))
  } catch (_) {}
}

export const translations: Record<BuiltinLocale, Record<string, string>> = {
  vi: {
    "settings.title": "Cài đặt hệ thống",
    "settings.subtitle": "Tùy chỉnh trải nghiệm sử dụng AI Portal",
    "settings.appearance": "Giao diện",
    "settings.appearanceDesc": "Tùy chỉnh ngôn ngữ và giao diện",
    "settings.language": "Ngôn ngữ",
    "settings.theme": "Chủ đề",
    "settings.themeLight": "Sáng",
    "settings.themeDark": "Tối",
    "settings.themeSystem": "Theo hệ thống",
    "settings.langVi": "Tiếng Việt",
    "settings.langEn": "English",
    "settings.langZh": "中文",
    "settings.langHi": "हिन्दी",
    "settings.langEs": "Español",
    "settings.notifications": "Thông báo",
    "settings.notificationsDesc": "Quản lý các loại thông báo. Mặc định tắt; thông báo email sẽ gửi đến địa chỉ bên dưới nếu bật.",
    "settings.notificationsEmailTo": "Thông báo sẽ gửi đến email:",
    "settings.notificationsEmail": "Thông báo email",
    "settings.notificationsPush": "Thông báo đẩy",
    "settings.notificationsProjects": "Cập nhật dự án",
    "settings.notificationsPublications": "Cơ hội công bố",
    "settings.privacy": "Quyền riêng tư",
    "settings.privacyDesc": "Kiểm soát thông tin hiển thị. Mặc định tắt; thay đổi được lưu vào tài khoản.",
    "settings.privacyProfile": "Hồ sơ công khai",
    "settings.privacyProjects": "Dự án công khai",
    "settings.privacyPublications": "Công bố công khai",
    "settings.ai": "Trợ lý AI",
    "settings.aiDesc": "Tùy chỉnh hành vi của AI",
    "settings.aiPersonalization": "Cá nhân hóa",
    "settings.aiAutoSuggestions": "Gợi ý tự động",
    "settings.aiExternalSearch": "Tìm kiếm thông tin từ bên ngoài",
    "settings.aiResponseLength": "Độ dài phản hồi",
    "settings.aiResponseShort": "Ngắn",
    "settings.aiResponseMedium": "Trung bình",
    "settings.aiResponseLong": "Dài",
    "settings.aiCreativity": "Độ sáng tạo",
    "settings.data": "Dữ liệu",
    "settings.dataDesc": "Quản lý lưu trữ và đồng bộ",
    "settings.dataAutoBackup": "Sao lưu tự động",
    "settings.dataSync": "Đồng bộ đám mây",
    "settings.dataCacheSize": "Kích thước cache",
    "settings.dataClearCache": "Xóa cache",
    "settings.dataExport": "Xuất dữ liệu",
    "settings.save": "Lưu cài đặt",
    "settings.saving": "Đang lưu...",
    "settings.saved": "Đã lưu cài đặt",
    "common.save": "Lưu",
    "common.saving": "Đang lưu…",
    "common.add": "Thêm",
    "common.cancel": "Hủy",
    "common.edit": "Sửa",
    "common.delete": "Xóa",
    "common.loading": "Đang tải…",
    "common.error": "Lỗi",
    "common.refresh": "Làm mới",
    "common.actions": "Thao tác",
    "common.filter": "Lọc",
    "common.upload": "Tải lên",
    "admin.settings.languageTitle": "Cấu hình ngôn ngữ",
    "admin.settings.languageDesc": "Chọn ngôn ngữ mặc định cho website. Các file JSON (en, vi, zh, ja, fr) là cấu hình ban đầu; có thể tải mẫu gói ngôn ngữ, chỉnh sửa và upload vào data/locales.",
    "admin.settings.defaultLocaleSaved": "Đã lưu ngôn ngữ mặc định. Giao diện sẽ cập nhật theo ngôn ngữ mới.",
    "admin.settings.defaultLocale": "Ngôn ngữ mặc định",
    "admin.settings.localePackage": "Gói ngôn ngữ",
    "admin.settings.downloadTemplate": "Tải mẫu gói ngôn ngữ",
    "admin.settings.localeCodePlaceholder": "Mã ngôn ngữ (vd. fr, de)",
    "admin.settings.uploadPackage": "Upload gói",
    "admin.settings.uploading": "Đang tải lên…",
    "admin.settings.pluginQdrant": "Plugin Qdrant",
    "admin.settings.pluginQdrantDesc": "Bật plugin để hiển thị tab Qdrant trong Admin, nhập địa chỉ Qdrant để quản lý vector DB.",
    "admin.settings.enablePluginQdrant": "Bật plugin Qdrant",
    "admin.settings.qdrantUrl": "Địa chỉ Qdrant (URL)",
    "admin.settings.qdrantUrlPlaceholder": "http://localhost:8010 hoặc http://qdrant:6333",
    "admin.settings.qdrantSaved": "Đã lưu. Tab Qdrant sẽ hiển thị khi bật plugin.",
    "admin.plugins.title": "Quản lý Plugins",
    "admin.plugins.subtitle": "Bật hoặc tắt từng plugin. Khi bật, tab tương ứng sẽ xuất hiện trong Admin và thông tin hiển thị trên Overview.",
    "admin.plugins.qdrant.name": "Qdrant Vector Database",
    "admin.plugins.qdrant.desc": "Vector DB cho RAG, embedding và trợ lý \"Quy chế, quy định\". Bật để hiện tab Qdrant và thống kê Qdrant trên Overview.",
    "admin.plugins.qdrant.enable": "Bật plugin Qdrant",
    "admin.plugins.qdrant.urlLabel": "Địa chỉ Qdrant (URL)",
    "admin.plugins.qdrant.saved": "Đã lưu. Tab Qdrant sẽ hiển thị khi bật plugin.",
    "admin.plugins.qdrant.hint": "Khi bật: tab Qdrant xuất hiện trong Admin; Overview hiển thị số collection và trạng thái kết nối.",
    "admin.settings.envConfigTitle": "Cấu hình môi trường (chỉ đọc)",
    "admin.settings.envConfigDesc": "Tên ứng dụng, icon, tên database: cấu hình tại /setup. Các biến bên dưới có thể lưu qua Admin và được nạp từ app_settings khi khởi động.",
    "admin.settings.resetTitle": "Reset ứng dụng",
    "admin.settings.resetDesc": "Xoá toàn bộ dữ liệu (schema ai_portal) và chạy lại schema.sql — ứng dụng về trạng thái cài mới. Không thể hoàn tác.",
    "admin.settings.resetConfirmLabel": "Nhập RESET để xác nhận",
    "admin.settings.resetConfirmError": "Nhập đúng chữ RESET (viết hoa) để xác nhận.",
    "admin.settings.resetConfirmDialog": "Bạn chắc chắn muốn xoá toàn bộ dữ liệu và thiết lập lại? Hành động này không thể hoàn tác.",
    "admin.settings.resetDone": "Đã reset database.",
    "admin.settings.resetting": "Đang reset…",
    "admin.settings.resetDatabase": "Reset database",
    "admin.settings.secretValue": "(ẩn giá trị)",
    "admin.settings.loading": "Đang tải cấu hình…",
    "admin.settings.loadError": "Lỗi tải cấu hình",
    "common.saveError": "Lỗi lưu",
    "admin.settings.localePackageErrorFile": "File phải chứa object 'strings' (cặp key-value).",
    "admin.settings.localePackageErrorInvalid": "File JSON không hợp lệ.",
    "admin.settings.localePackageErrorUpload": "Tải lên thất bại.",
    "admin.settings.localePackageSuccess": "Đã thêm {count} chuỗi cho ngôn ngữ \"{locale}\".",
    "admin.users.title": "Quản lý Users & Phân quyền",
    "admin.users.subtitle": "Tài khoản có quyền Người quản trị hoặc Người phát triển mới truy cập được trang quản trị. Thêm user để đăng nhập bằng email + mật khẩu. Khi gửi tin nhắn cho Agent, hệ thống tự động gửi kèm user_url (link API thông tin user) trong context để agent có thể fetch thông tin người dùng.",
    "admin.users.onlineCount": "{count} đang trực tuyến",
    "admin.users.status": "Trạng thái",
    "admin.users.statusAll": "Tất cả",
    "admin.users.statusOnline": "Đang trực tuyến ({count})",
    "admin.users.statusOffline": "Offline ({count})",
    "admin.users.online": "Online",
    "admin.users.offline": "Offline",
    "admin.users.addUser": "Thêm user",
    "admin.users.editUser": "Sửa user",
    "admin.users.email": "Email",
    "admin.users.displayName": "Tài khoản",
    "admin.users.fullName": "Họ và tên",
    "admin.users.role": "Quyền",
    "admin.users.password": "Mật khẩu",
    "admin.users.passwordOptional": "(để trống nếu không đổi)",
    "admin.users.passwordPlaceholderEdit": "Để trống = giữ nguyên",
    "admin.users.passwordPlaceholderAdd": "Tối thiểu 6 ký tự",
    "admin.users.emailCannotChange": "Email không đổi được",
    "admin.users.displayNamePlaceholder": "Tài khoản (tên hiển thị)",
    "admin.users.fullNamePlaceholder": "Họ và tên (từ SSO hoặc nhập tay)",
    "admin.users.linkApiUser": "Link API User (để agent fetch thông tin)",
    "admin.users.copyApiLink": "Sao chép link API",
    "admin.users.roleUser": "Người dùng",
    "admin.users.roleAdmin": "Người quản trị",
    "admin.users.roleDeveloper": "Người phát triển",
    "admin.users.lastLogin": "Lần đăng nhập cuối",
    "admin.users.createdAt": "Ngày tạo",
    "admin.users.apiUserLink": "Link API User",
    "admin.users.noUsers": "Chưa có user. Bấm \"Thêm user\" để tạo tài khoản đăng nhập thông thường.",
    "admin.users.noUsersFilter": "Không có user nào khớp với bộ lọc.",
    "admin.users.emailRequired": "Email là bắt buộc",
    "admin.users.passwordRequired": "Mật khẩu bắt buộc, tối thiểu 6 ký tự",
    "admin.users.userAdded": "Đã thêm user",
    "admin.users.userUpdated": "Đã cập nhật user",
    "admin.users.cannotDeleteSystem": "Không được xóa tài khoản system",
    "admin.users.deleteConfirm": "Xóa user \"{email}\"? Dữ liệu chat/session liên quan sẽ bị xóa.",
    "admin.users.userDeleted": "Đã xóa user",
    "admin.users.loadError": "Lỗi tải users",
    "admin.users.addError": "Lỗi thêm user",
    "admin.users.updateError": "Lỗi cập nhật",
    "admin.users.deleteError": "Lỗi xóa user",
    "admin.limits.title": "Giới hạn tin nhắn mỗi ngày",
    "admin.limits.subtitle": "Cấu hình số tin nhắn tối đa mỗi user/ngày (mặc định 10). Admin có thể \"Mở thêm hôm nay\" cho từng user. Mỗi agent có giới hạn tin nhắn/ngày riêng (mặc định 100).",
    "admin.limits.guestTitle": "Người dùng chưa đăng nhập (khách)",
    "admin.limits.guestDesc": "Số tin nhắn tối đa mỗi thiết bị/ngày/trợ lý cho người chưa đăng nhập. Mặc định 1.",
    "admin.limits.messagesPerDay": "tin nhắn/ngày/thiết bị/trợ lý",
    "admin.limits.byUser": "Theo user",
    "admin.limits.applyToSelected": "Áp dụng cho {count} user đã chọn",
    "admin.limits.select": "Chọn",
    "admin.limits.limitPerDay": "Giới hạn/ngày",
    "admin.limits.usedToday": "Đã dùng hôm nay",
    "admin.limits.extraToday": "Mở thêm hôm nay",
    "admin.limits.openMore": "Mở thêm",
    "admin.limits.byAgent": "Theo agent",
    "admin.limits.agentDesc": "Số tin nhắn (role user) được gửi tới mỗi agent trong ngày. Mặc định 100/ngày.",
    "admin.limits.agentAlias": "Agent (alias)",
    "admin.limits.loadError": "Lỗi tải dữ liệu",
    "admin.limits.messagesPerDayShort": "tin nhắn/ngày",
    "admin.limits.bulkInvalid": "Số tin nhắn/ngày phải là số nguyên không âm",
    "admin.limits.selectOneUser": "Chọn ít nhất một user",
    "admin.limits.updatedCount": "Đã cập nhật giới hạn cho {count} user",
    "admin.limits.updateError": "Lỗi cập nhật",
    "admin.limits.extraInvalid": "Số tin mở thêm phải là số nguyên không âm",
    "admin.limits.extraSuccess": "Đã mở thêm {count} tin nhắn cho ngày hôm nay",
    "admin.limits.limitUpdated": "Đã cập nhật giới hạn",
    "admin.limits.agentLimitUpdated": "Đã cập nhật giới hạn agent",
    "admin.limits.guestLimitUpdated": "Đã cập nhật giới hạn tin nhắn khách",
    "admin.limits.guestInvalid": "Số tin nhắn phải là số nguyên không âm",
    "admin.database.title": "Database",
    "admin.database.subtitle": "Danh mục Đơn vị / Phòng ban (dùng trong hồ sơ người dùng): bảng ai_portal.departments. Chọn bảng bên dưới để xem/sửa dữ liệu.",
    "admin.database.connInfo": "Thông tin kết nối PostgreSQL",
    "admin.database.loadingTables": "Đang tải danh sách bảng...",
    "admin.database.rowsCount": "{count} dòng",
    "admin.database.rowsFiltered": "(hiển thị {count})",
    "admin.database.refresh": "Làm mới",
    "admin.database.refreshTitle": "Lấy lại dữ liệu mới nhất",
    "admin.database.addRow": "Thêm dòng",
    "admin.database.filterPlaceholder": "Lọc theo nội dung ô...",
    "admin.database.loadingData": "Đang tải dữ liệu...",
    "admin.database.noData": "Chưa có dữ liệu. Bấm \"Thêm dòng\" để thêm.",
    "admin.database.noRowsFilter": "Không có dòng nào khớp bộ lọc.",
    "admin.database.edit": "Sửa",
    "admin.database.loadTableError": "Lỗi tải bảng",
    "admin.database.sqlQuery": "SQL Query",
    "admin.database.executeQuery": "Thực thi Query",
    "admin.database.addRowTo": "Thêm dòng vào {table}",
    "admin.database.editRowIn": "Sửa dòng trong {table}",
    "admin.database.colOptional": "(có thể để trống)",
    "admin.database.loadError": "Lỗi",
    "admin.database.rowAdded": "Đã thêm dòng",
    "admin.database.rowUpdated": "Đã cập nhật dòng",
    "admin.database.deleteRowConfirm": "Bạn có chắc muốn xóa dòng này?",
    "admin.qdrant.title": "Qdrant Vector Database",
    "admin.qdrant.subtitle": "Qdrant trong dự án (docker-compose hoặc local). Cổng 8010. Dùng cho trợ lý \"Quy chế, quy định\" và RAG/embedding.",
    "admin.qdrant.urlCardTitle": "Địa chỉ Qdrant (Settings)",
    "admin.qdrant.urlCardDesc": "Thay đổi URL sẽ áp dụng cho toàn bộ Admin. Lưu xong kết nối sẽ được làm mới.",
    "admin.qdrant.connectionTitle": "Kết nối",
    "admin.qdrant.guideButton": "Hướng dẫn kết nối Qdrant",
    "admin.qdrant.savedUrl": "Đã lưu địa chỉ Qdrant",
    "admin.central.title": "Trợ lý chính (Central)",
    "admin.central.subtitle": "Cấu hình mô hình và API key cho trợ lý Q&A chính. Có thể bỏ qua nếu chỉ dùng agent chuyên biệt.",
    "admin.central.apiKeyPlaceholder": "Nhập API key (để trống nếu giữ key hiện tại)",
    "admin.central.loadError": "Lỗi tải cấu hình",
    "admin.central.saveError": "Lỗi lưu",
    "admin.central.loading": "Đang tải cấu hình Trợ lý chính…",
    "admin.central.providerLabel": "Nhà cung cấp LLM",
    "admin.central.providerOpenAI": "OpenAI (ChatGPT)",
    "admin.central.providerGemini": "Gemini",
    "admin.central.providerSkip": "Bỏ qua / Cấu hình sau",
    "admin.central.apiKeyLabel": "API Key",
    "admin.central.apiKeyHint": "Key đã được lưu. Nhập key mới chỉ khi muốn đổi; để trống để giữ nguyên.",
    "admin.central.saveSuccess": "Đã lưu cấu hình LLM Trợ lý chính.",
    "admin.central.modelLabel": "Tên mô hình",
    "admin.central.modelPlaceholder": "vd. gpt-4o-mini, gpt-4o, gemini-1.5-flash",
    "admin.central.baseUrlLabel": "Base URL (API endpoint)",
    "admin.central.baseUrlPlaceholder": "https://api.openai.com/v1 hoặc URL tương thích OpenAI",
    "admin.central.providerAnthropic": "Anthropic (Claude)",
    "admin.central.providerOpenAICompatible": "OpenAI-compatible (tùy chỉnh)",
    "admin.feedback.tabSystem": "Góp ý hệ thống",
    "admin.feedback.tabMessage": "Góp ý tin nhắn (dislike)",
    "admin.feedback.loadError": "Lỗi tải góp ý",
    "admin.feedback.loading": "Đang tải...",
    "admin.feedback.saved": "Đã lưu",
    "admin.feedback.markResolved": "Đã đánh dấu đã xử lý",
    "admin.feedback.unmarkResolved": "Đã bỏ đánh dấu đã xử lý",
    "admin.feedback.filterByStatus": "Lọc theo trạng thái:",
    "admin.feedback.all": "Tất cả",
    "admin.feedback.unresolved": "Chưa xử lý",
    "admin.feedback.resolved": "Đã xử lý",
    "admin.feedback.status": "Trạng thái",
    "admin.feedback.actions": "Thao tác",
    "admin.feedback.time": "Thời gian",
    "admin.feedback.sender": "Người gửi",
    "admin.feedback.assistant": "Trợ lý",
    "admin.feedback.content": "Nội dung",
    "admin.feedback.note": "Ghi chú",
    "admin.feedback.noFeedback": "Chưa có góp ý nào",
    "admin.feedback.assistantDefault": "Chung",
    "admin.feedback.titleNoteAndMark": "Ghi chú / Đánh dấu đã xử lý",
    "admin.feedback.contentLabel": "Nội dung góp ý:",
    "admin.feedback.adminNoteLabel": "Ghi chú quản trị",
    "admin.feedback.adminNotePlaceholder": "Ghi chú của quản trị viên...",
    "admin.feedback.resolvedLabel": "Đã xử lý",
    "admin.feedback.buttonPrev": "Trước",
    "admin.feedback.buttonNext": "Sau",
    "admin.feedback.deleteConfirm": "Xóa góp ý này? Hành động không thể hoàn tác.",
    "admin.feedback.deleted": "Đã xóa",
    "admin.feedback.noMessageFeedback": "Chưa có góp ý dislike nào",
    "admin.feedback.userCommentLabel": "Góp ý của user:",
    "admin.feedback.noteLabel": "Ghi chú:",
    "admin.feedback.dislikedMessageLabel": "Tin nhắn bị dislike:",
    "admin.feedback.emptyContent": "(trống)",
    "admin.feedback.fullConversationLabel": "Toàn bộ hội thoại trong phiên:",
    "admin.feedback.expand": "Xem chi tiết",
    "admin.feedback.collapse": "Thu gọn",
    "admin.feedback.delete": "Xóa",
    "admin.feedback.filterByAssistant": "Lọc theo trợ lý:",
    "admin.feedback.session": "Phiên:",
    "nav.home": "Về trang chủ",
    "nav.adminTitle": "Admin Dashboard",
    "nav.adminShort": "Admin",
    "welcome.subtitle": "Nền tảng trí tuệ nhân tạo phục vụ giảng dạy và làm việc",
    "welcome.card1.title": "Trợ lý chính",
    "welcome.card1.description": "Trao đổi ý tưởng, tìm tài liệu, hỗ trợ soạn bài và xử lý dữ liệu với AI.",
    "welcome.card2.title": "Dự án",
    "welcome.card2.description": "Tạo và quản lý dự án, mỗi dự án gắn một bài viết riêng.",
    "welcome.card3.title": "Viết bài",
    "welcome.card3.description": "Hỗ trợ hình thành và viết bài theo quy trình chuẩn 10 bước",
    "welcome.card4.title": "Trợ lý chuyên biệt",
    "welcome.card4.description": "Chọn trợ lý chuyên biệt khác để hỗ trợ công việc",
    "welcome.startButton": "Bắt đầu sử dụng",
    "welcome.loginButton": "Đăng nhập",
    "welcome.guideButton": "Hướng dẫn sử dụng",
    "welcome.hintLoggedIn": "Bạn sẽ được chuyển đến AI Central để bắt đầu trò chuyện.",
    "welcome.hintLoggedOut": "Đăng nhập để tạo dự án, lưu bài viết và xem lịch sử chat.",
    "guide.title": "Hướng dẫn sử dụng",
    "guide.subtitle": "AI Portal — cách dùng Trợ lý chính, dự án, soạn bài và lưu",
    "guide.searchPlaceholder": "Tìm kiếm câu hỏi, hướng dẫn...",
    "guide.searchResults": "Kết quả tìm kiếm ({count})",
    "guide.noResults": "Không tìm thấy kết quả phù hợp",
    "guide.quickLinks": "Đi nhanh",
    "guide.quickLinksDesc": "Một số đường dẫn thường dùng",
    "guide.linkWelcome": "Trang Chào mừng",
    "guide.linkWelcomeDesc": "Quay lại điểm bắt đầu",
    "guide.linkCentral": "Trợ lý chính",
    "guide.linkCentralDesc": "Soạn bài và chat với AI",
    "guide.cat0.title": "Bắt đầu",
    "guide.cat0.0.q": "Trang Chào mừng dùng để làm gì?",
    "guide.cat0.0.a": "Trang Chào mừng là điểm bắt đầu. Bạn có thể bấm \"Bắt đầu sử dụng\" để vào Trợ lý chính và soạn bài, hoặc bấm \"Hướng dẫn sử dụng\" để xem hướng dẫn chi tiết.",
    "guide.cat0.0.tags": "welcome, bắt đầu",
    "guide.cat0.1.q": "Làm thế nào để vào màn hình soạn bài?",
    "guide.cat0.1.a": "Từ trang Chào mừng bấm \"Bắt đầu sử dụng\", hoặc từ sidebar chọn dự án để vào Trợ lý chính. Bạn sẽ thấy vùng soạn thảo ở giữa và có thể gõ hoặc bấm vào vùng trắng để bắt đầu soạn.",
    "guide.cat0.1.tags": "soạn bài, trợ lý chính",
    "guide.cat0.2.q": "Sidebar có những phần nào?",
    "guide.cat0.2.a": "Sidebar gồm: (1) Dự án của tôi — danh sách dự án; (2) Trợ lý — chọn trợ lý AI; (3) Lịch sử chat — các phiên trò chuyện. Bấm vào tiêu đề từng phần (hoặc nút mũi tên) để thu gọn/mở rộng.",
    "guide.cat0.2.tags": "sidebar, dự án, trợ lý, lịch sử",
    "guide.cat1.title": "Dự án (Project)",
    "guide.cat1.0.q": "Làm thế nào để tạo dự án mới?",
    "guide.cat1.0.a": "Trong sidebar, bấm nút \"+\" hoặc \"Thêm dự án\" trong phần \"Dự án của tôi\". Điền tên và mô tả (nếu có) rồi lưu. Sau khi tạo, URL sẽ có tham số rid (id dự án) và bạn có thể lưu bài viết vào dự án đó.",
    "guide.cat1.0.tags": "dự án, tạo mới",
    "guide.cat1.1.q": "Tại sao bấm Lưu lại báo \"Cần tạo hoặc chọn dự án\"?",
    "guide.cat1.1.a": "Bài viết chỉ lưu được khi đã gắn với một dự án. Nếu bạn chưa chọn dự án (hoặc vào thẳng Trợ lý chính chưa có rid), hãy bấm \"Tạo dự án mới\" trong hộp thoại hoặc chọn một dự án từ sidebar. Sau khi có dự án, bấm Lưu lại sẽ lưu bài vào dự án đó.",
    "guide.cat1.1.tags": "lưu, dự án, project",
    "guide.cat1.2.q": "Làm sao chỉnh sửa tên/mô tả dự án?",
    "guide.cat1.2.a": "Khi bấm vào một dự án trong sidebar (Dự án của tôi), giao diện chính hiển thị thông tin dự án (chỉ xem). Trợ lý chat nằm ở widget nổi góc dưới bên phải để bạn trò chuyện.",
    "guide.cat1.2.tags": "chỉnh sửa, dự án, edit",
    "guide.cat2.title": "Soạn bài và lưu",
    "guide.cat2.0.q": "Làm sao bắt đầu soạn bài?",
    "guide.cat2.0.a": "Vào Trợ lý chính, bấm vào vùng trắng lớn phía dưới (hoặc bất kỳ đâu trong khung soạn thảo). Con trỏ sẽ xuất hiện và bạn có thể gõ. Khi editor trống, bạn cũng có thể chọn mẫu nhanh: \"Tạo bài viết\", \"Đề cương\", \"Báo cáo tiến độ\" hoặc \"Thêm\" để chọn thêm mẫu.",
    "guide.cat2.0.tags": "soạn thảo, mẫu, template",
    "guide.cat2.1.q": "Bài viết có tự lưu không?",
    "guide.cat2.1.a": "Nội dung đang soạn được lưu tạm trên trình duyệt. Để lưu vào hệ thống (theo dự án), bạn cần bấm nút \"Lưu\" trên thanh menu (khi đã chọn hoặc tạo dự án). Hệ thống cũng có thể tự đồng bộ theo chu kỳ khi đã có dự án.",
    "guide.cat2.1.tags": "lưu, auto-save",
    "guide.cat2.2.q": "Xuất bài ra Word, PDF như thế nào?",
    "guide.cat2.2.a": "Trên thanh công cụ soạn thảo, mở menu \"Xuất\" (icon mũi tên xuống). Chọn Word (.docx), PDF, HTML, LaTeX hoặc Markdown. File sẽ được tải về máy.",
    "guide.cat2.2.tags": "xuất, Word, PDF",
    "guide.cat3.title": "Trợ lý AI và chat",
    "guide.cat3.0.q": "Trợ lý chính và chat floating là gì?",
    "guide.cat3.0.a": "Trợ lý chính là màn hình chính để soạn bài (editor) và có khung chat nổi (floating) để trò chuyện với AI. Bạn vừa soạn vừa có thể hỏi AI qua khung chat. Các trợ lý khác (ví dụ Trợ lý Dữ liệu) có giao diện riêng, chọn từ sidebar.",
    "guide.cat3.0.tags": "chat, floating, AI",
    "guide.cat3.1.q": "Làm sao xem lại lịch sử chat?",
    "guide.cat3.1.a": "Trong sidebar, mở phần \"Lịch sử chat\". Danh sách các phiên trò chuyện sẽ hiển thị; bấm vào một phiên để mở lại. Với từng dự án, bạn có thể bấm menu 3 chấm cạnh tên dự án và chọn \"Xem chat\" để xem chat liên quan dự án đó.",
    "guide.cat3.1.tags": "lịch sử, chat",
    "guide.cat3.2.q": "Chuyển đổi giữa các trợ lý như thế nào?",
    "guide.cat3.2.a": "Trong phần \"Trợ lý\" trên sidebar, bấm vào tên trợ lý (Trợ lý chính, Trợ lý Dữ liệu, v.v.) để chuyển. Bấm \"Xem thêm\" để mở danh sách đầy đủ các trợ lý có sẵn.",
    "guide.cat3.2.tags": "trợ lý, chuyển đổi",
    "guide.cat4.title": "Mẹo và phím tắt",
    "guide.cat4.0.q": "Có phím tắt nào khi soạn bài?",
    "guide.cat4.0.a": "Ctrl/Cmd + S để lưu; Ctrl/Cmd + Z/Y để hoàn tác/làm lại; Ctrl/Cmd + B/I/U cho in đậm, in nghiêng, gạch chân. Bạn có thể dùng thanh công cụ định dạng phía trên editor cho font chữ, cỡ chữ, bảng, ảnh, trích dẫn, công thức.",
    "guide.cat4.0.tags": "phím tắt, định dạng",
    "guide.cat4.1.q": "Trích dẫn và tài liệu tham khảo?",
    "guide.cat4.1.a": "Trên thanh công cụ, mở menu \"Trích dẫn\" để quản lý tài liệu tham khảo (thêm, sửa, xóa) và chèn trích dẫn vào bài (APA, IEEE). Có thể xuất danh sách tài liệu tham khảo ra BibTeX, EndNote, RefMan, RefWorks.",
    "guide.cat4.1.tags": "trích dẫn, tài liệu tham khảo",
  },
  en: {
    "settings.title": "System Settings",
    "settings.subtitle": "Customize your AI Portal experience",
    "settings.appearance": "Appearance",
    "settings.appearanceDesc": "Language and display",
    "settings.language": "Language",
    "settings.theme": "Theme",
    "settings.themeLight": "Light",
    "settings.themeDark": "Dark",
    "settings.themeSystem": "System",
    "settings.langVi": "Tiếng Việt",
    "settings.langEn": "English",
    "settings.langZh": "中文",
    "settings.langHi": "हिन्दी",
    "settings.langEs": "Español",
    "settings.notifications": "Notifications",
    "settings.notificationsDesc": "Manage notification types. Default: all off; email notifications will be sent to the address below when enabled.",
    "settings.notificationsEmailTo": "Notifications will be sent to email:",
    "settings.notificationsEmail": "Email notifications",
    "settings.notificationsPush": "Push notifications",
    "settings.notificationsProjects": "Project updates",
    "settings.notificationsPublications": "Publication opportunities",
    "settings.privacy": "Privacy",
    "settings.privacyDesc": "Control what information is visible. Default: all off; changes are saved to your account.",
    "settings.privacyProfile": "Profile visible",
    "settings.privacyProjects": "Projects visible",
    "settings.privacyPublications": "Publications visible",
    "settings.ai": "AI Assistant",
    "settings.aiDesc": "Customize AI behavior",
    "settings.aiPersonalization": "Personalization",
    "settings.aiAutoSuggestions": "Auto suggestions",
    "settings.aiExternalSearch": "Search for information from external sources",
    "settings.aiResponseLength": "Response length",
    "settings.aiResponseShort": "Short",
    "settings.aiResponseMedium": "Medium",
    "settings.aiResponseLong": "Long",
    "settings.aiCreativity": "Creativity",
    "settings.data": "Data",
    "settings.dataDesc": "Storage and sync",
    "settings.dataAutoBackup": "Auto backup",
    "settings.dataSync": "Cloud sync",
    "settings.dataCacheSize": "Cache size",
    "settings.dataClearCache": "Clear cache",
    "settings.dataExport": "Export data",
    "settings.save": "Save settings",
    "settings.saving": "Saving...",
    "settings.saved": "Settings saved",
    "common.save": "Save",
    "common.saving": "Saving…",
    "common.add": "Add",
    "common.cancel": "Cancel",
    "common.edit": "Edit",
    "common.delete": "Delete",
    "common.loading": "Loading…",
    "common.error": "Error",
    "common.refresh": "Refresh",
    "common.actions": "Actions",
    "common.filter": "Filter",
    "common.upload": "Upload",
    "admin.settings.languageTitle": "Language configuration",
    "admin.settings.languageDesc": "Choose the default language for the website. JSON files (en, vi, zh, ja, fr) are the initial config; you can download a template, edit and upload to data/locales.",
    "admin.settings.defaultLocaleSaved": "Default language saved. The interface will update to the new language.",
    "admin.settings.defaultLocale": "Default language",
    "admin.settings.localePackage": "Language package",
    "admin.settings.downloadTemplate": "Download language package template",
    "admin.settings.localeCodePlaceholder": "Locale code (e.g. fr, de)",
    "admin.settings.uploadPackage": "Upload package",
    "admin.settings.uploading": "Uploading…",
    "admin.settings.pluginQdrant": "Plugin Qdrant",
    "admin.settings.pluginQdrantDesc": "Enable the plugin to show the Qdrant tab in Admin; enter the Qdrant URL to manage the vector DB.",
    "admin.settings.enablePluginQdrant": "Enable Qdrant plugin",
    "admin.settings.qdrantUrl": "Qdrant URL",
    "admin.settings.qdrantUrlPlaceholder": "http://localhost:8010 or http://qdrant:6333",
    "admin.settings.qdrantSaved": "Saved. The Qdrant tab will appear when the plugin is enabled.",
    "admin.plugins.title": "Plugins",
    "admin.plugins.subtitle": "Enable or disable each plugin. When enabled, the corresponding tab appears in Admin and info shows on Overview.",
    "admin.plugins.qdrant.name": "Qdrant Vector Database",
    "admin.plugins.qdrant.desc": "Vector DB for RAG, embedding and assistants. Enable to show the Qdrant tab and Qdrant stats on Overview.",
    "admin.plugins.qdrant.enable": "Enable Qdrant plugin",
    "admin.plugins.qdrant.urlLabel": "Qdrant URL",
    "admin.plugins.qdrant.saved": "Saved. The Qdrant tab will appear when the plugin is enabled.",
    "admin.plugins.qdrant.hint": "When enabled: Qdrant tab appears in Admin; Overview shows collection count and connection status.",
    "admin.settings.envConfigTitle": "Environment config (read-only)",
    "admin.settings.envConfigDesc": "App name, icon, database: configure at /setup. The variables below can be saved via Admin and are loaded from app_settings on startup.",
    "admin.settings.resetTitle": "Reset application",
    "admin.settings.resetDesc": "Delete all data (ai_portal schema) and re-run schema.sql — application returns to fresh install state. Cannot be undone.",
    "admin.settings.resetConfirmLabel": "Type RESET to confirm",
    "admin.settings.resetConfirmError": "Type RESET (uppercase) to confirm.",
    "admin.settings.resetConfirmDialog": "Are you sure you want to delete all data and reset? This cannot be undone.",
    "admin.settings.resetDone": "Database has been reset.",
    "admin.settings.resetting": "Resetting…",
    "admin.settings.resetDatabase": "Reset database",
    "admin.settings.secretValue": "(value hidden)",
    "admin.settings.loading": "Loading configuration…",
    "admin.settings.loadError": "Failed to load configuration",
    "common.saveError": "Save error",
    "admin.settings.localePackageErrorFile": "File must contain a 'strings' object (key-value pairs).",
    "admin.settings.localePackageErrorInvalid": "Invalid JSON file.",
    "admin.settings.localePackageErrorUpload": "Upload failed.",
    "admin.settings.localePackageSuccess": "Added {count} strings for locale \"{locale}\".",
    "admin.users.title": "Users & Permissions",
    "admin.users.subtitle": "Only Admin or Developer accounts can access the admin panel. Add users for email + password login. When sending messages to an Agent, the system automatically includes user_url (API link for user info) in context so the agent can fetch user data.",
    "admin.users.onlineCount": "{count} online",
    "admin.users.status": "Status",
    "admin.users.statusAll": "All",
    "admin.users.statusOnline": "Online ({count})",
    "admin.users.statusOffline": "Offline ({count})",
    "admin.users.online": "Online",
    "admin.users.offline": "Offline",
    "admin.users.addUser": "Add user",
    "admin.users.editUser": "Edit user",
    "admin.users.email": "Email",
    "admin.users.displayName": "Display name",
    "admin.users.fullName": "Full name",
    "admin.users.role": "Role",
    "admin.users.password": "Password",
    "admin.users.passwordOptional": "(leave blank to keep)",
    "admin.users.passwordPlaceholderEdit": "Leave blank = no change",
    "admin.users.passwordPlaceholderAdd": "Minimum 6 characters",
    "admin.users.emailCannotChange": "Email cannot be changed",
    "admin.users.displayNamePlaceholder": "Display name",
    "admin.users.fullNamePlaceholder": "Full name (from SSO or enter manually)",
    "admin.users.linkApiUser": "API User link (for agent to fetch user info)",
    "admin.users.copyApiLink": "Copy API link",
    "admin.users.roleUser": "User",
    "admin.users.roleAdmin": "Administrator",
    "admin.users.roleDeveloper": "Developer",
    "admin.users.lastLogin": "Last login",
    "admin.users.createdAt": "Created",
    "admin.users.apiUserLink": "API User link",
    "admin.users.noUsers": "No users yet. Click \"Add user\" to create an email/password account.",
    "admin.users.noUsersFilter": "No users match the filter.",
    "admin.users.emailRequired": "Email is required",
    "admin.users.passwordRequired": "Password required, minimum 6 characters",
    "admin.users.userAdded": "User added",
    "admin.users.userUpdated": "User updated",
    "admin.users.cannotDeleteSystem": "Cannot delete system account",
    "admin.users.deleteConfirm": "Delete user \"{email}\"? Related chat/session data will be removed.",
    "admin.users.userDeleted": "User deleted",
    "admin.users.loadError": "Failed to load users",
    "admin.users.addError": "Failed to add user",
    "admin.users.updateError": "Update failed",
    "admin.users.deleteError": "Failed to delete user",
    "admin.limits.title": "Daily message limits",
    "admin.limits.subtitle": "Configure max messages per user per day (default 10). Admins can \"Open more today\" per user. Each agent has its own daily limit (default 100).",
    "admin.limits.guestTitle": "Guest (not logged in)",
    "admin.limits.guestDesc": "Max messages per device/day/assistant for guests. Default 1.",
    "admin.limits.messagesPerDay": "messages/day/device/assistant",
    "admin.limits.byUser": "By user",
    "admin.limits.applyToSelected": "Apply to {count} selected users",
    "admin.limits.select": "Select",
    "admin.limits.limitPerDay": "Limit/day",
    "admin.limits.usedToday": "Used today",
    "admin.limits.extraToday": "Extra today",
    "admin.limits.openMore": "Open more",
    "admin.limits.byAgent": "By agent",
    "admin.limits.agentDesc": "Messages (user role) sent to each agent per day. Default 100/day.",
    "admin.limits.agentAlias": "Agent (alias)",
    "admin.limits.loadError": "Failed to load data",
    "admin.limits.messagesPerDayShort": "messages/day",
    "admin.limits.bulkInvalid": "Messages per day must be a non-negative integer",
    "admin.limits.selectOneUser": "Select at least one user",
    "admin.limits.updatedCount": "Updated limit for {count} users",
    "admin.limits.updateError": "Update failed",
    "admin.limits.extraInvalid": "Extra messages must be a non-negative integer",
    "admin.limits.extraSuccess": "Added {count} messages for today",
    "admin.limits.limitUpdated": "Limit updated",
    "admin.limits.agentLimitUpdated": "Agent limit updated",
    "admin.limits.guestLimitUpdated": "Guest message limit updated",
    "admin.limits.guestInvalid": "Message count must be a non-negative integer",
    "admin.database.title": "Database",
    "admin.database.subtitle": "Departments (for user profiles): table ai_portal.departments. Select a table below to view/edit data.",
    "admin.database.connInfo": "PostgreSQL connection info",
    "admin.database.loadingTables": "Loading tables...",
    "admin.database.rowsCount": "{count} rows",
    "admin.database.rowsFiltered": "(showing {count})",
    "admin.database.refresh": "Refresh",
    "admin.database.refreshTitle": "Reload latest data",
    "admin.database.addRow": "Add row",
    "admin.database.filterPlaceholder": "Filter by cell content...",
    "admin.database.loadingData": "Loading data...",
    "admin.database.noData": "No data yet. Click \"Add row\" to add.",
    "admin.database.noRowsFilter": "No rows match the filter.",
    "admin.database.edit": "Edit",
    "admin.database.loadTableError": "Failed to load table",
    "admin.database.sqlQuery": "SQL Query",
    "admin.database.executeQuery": "Execute query",
    "admin.database.addRowTo": "Add row to {table}",
    "admin.database.editRowIn": "Edit row in {table}",
    "admin.database.colOptional": "(optional)",
    "admin.database.loadError": "Error",
    "admin.database.rowAdded": "Row added",
    "admin.database.rowUpdated": "Row updated",
    "admin.database.deleteRowConfirm": "Are you sure you want to delete this row?",
    "admin.qdrant.title": "Qdrant Vector Database",
    "admin.qdrant.subtitle": "Qdrant in project (docker-compose or local). Port 8010. Used for assistants and RAG/embedding.",
    "admin.qdrant.urlCardTitle": "Qdrant URL (Settings)",
    "admin.qdrant.urlCardDesc": "Changing the URL applies to all Admin. Connection will refresh after save.",
    "admin.qdrant.connectionTitle": "Connection",
    "admin.qdrant.guideButton": "Qdrant connection guide",
    "admin.qdrant.savedUrl": "Qdrant URL saved",
    "admin.central.title": "Central Assistant",
    "admin.central.subtitle": "Configure model and API key for the main Q&A assistant. You can skip if only using specialized agents.",
    "admin.central.apiKeyPlaceholder": "Enter API key (leave blank to keep current key)",
    "admin.central.loadError": "Failed to load configuration",
    "admin.central.saveError": "Save failed",
    "admin.central.loading": "Loading Central Assistant configuration…",
    "admin.central.providerLabel": "LLM Provider",
    "admin.central.providerOpenAI": "OpenAI (ChatGPT)",
    "admin.central.providerGemini": "Gemini",
    "admin.central.providerSkip": "Skip / Configure later",
    "admin.central.apiKeyLabel": "API Key",
    "admin.central.apiKeyHint": "Key is stored. Enter a new key only to change it; leave blank to keep.",
    "admin.central.saveSuccess": "Central LLM configuration saved.",
    "admin.central.modelLabel": "Model name",
    "admin.central.modelPlaceholder": "e.g. gpt-4o-mini, gpt-4o, gemini-1.5-flash",
    "admin.central.baseUrlLabel": "Base URL (API endpoint)",
    "admin.central.baseUrlPlaceholder": "https://api.openai.com/v1 or OpenAI-compatible URL",
    "admin.central.providerAnthropic": "Anthropic (Claude)",
    "admin.central.providerOpenAICompatible": "OpenAI-compatible (custom)",
    "admin.feedback.tabSystem": "System feedback",
    "admin.feedback.tabMessage": "Message feedback (dislike)",
    "admin.feedback.loadError": "Failed to load feedback",
    "admin.feedback.loading": "Loading…",
    "admin.feedback.saved": "Saved",
    "admin.feedback.markResolved": "Marked as resolved",
    "admin.feedback.unmarkResolved": "Unmarked as resolved",
    "admin.feedback.filterByStatus": "Filter by status:",
    "admin.feedback.all": "All",
    "admin.feedback.unresolved": "Unresolved",
    "admin.feedback.resolved": "Resolved",
    "admin.feedback.status": "Status",
    "admin.feedback.actions": "Actions",
    "admin.feedback.time": "Time",
    "admin.feedback.sender": "Sender",
    "admin.feedback.assistant": "Assistant",
    "admin.feedback.content": "Content",
    "admin.feedback.note": "Note",
    "admin.feedback.noFeedback": "No feedback yet",
    "admin.feedback.assistantDefault": "General",
    "admin.feedback.titleNoteAndMark": "Note / Mark resolved",
    "admin.feedback.contentLabel": "Feedback content:",
    "admin.feedback.adminNoteLabel": "Admin note",
    "admin.feedback.adminNotePlaceholder": "Admin note…",
    "admin.feedback.resolvedLabel": "Resolved",
    "admin.feedback.buttonPrev": "Previous",
    "admin.feedback.buttonNext": "Next",
    "admin.feedback.deleteConfirm": "Delete this feedback? This cannot be undone.",
    "admin.feedback.deleted": "Deleted",
    "admin.feedback.noMessageFeedback": "No dislike feedback yet",
    "admin.feedback.userCommentLabel": "User comment:",
    "admin.feedback.noteLabel": "Note:",
    "admin.feedback.dislikedMessageLabel": "Disliked message:",
    "admin.feedback.emptyContent": "(empty)",
    "admin.feedback.fullConversationLabel": "Full conversation in session:",
    "admin.feedback.expand": "View details",
    "admin.feedback.collapse": "Collapse",
    "admin.feedback.delete": "Delete",
    "admin.feedback.filterByAssistant": "Filter by assistant:",
    "admin.feedback.session": "Session:",
    "nav.home": "Back to home",
    "nav.adminTitle": "Admin Dashboard",
    "nav.adminShort": "Admin",
    "welcome.subtitle": "AI platform for teaching and work",
    "welcome.card1.title": "Main Assistant",
    "welcome.card1.description": "Exchange ideas, find documents, support writing and data processing with AI.",
    "welcome.card2.title": "Project",
    "welcome.card2.description": "Create and manage projects, each project linked to a separate article.",
    "welcome.card3.title": "Write Article",
    "welcome.card3.description": "Support forming and writing articles according to a standard 10-step process",
    "welcome.card4.title": "Specialized Assistant",
    "welcome.card4.description": "Choose other specialized assistants to support work",
    "welcome.startButton": "Get started",
    "welcome.loginButton": "Log in",
    "welcome.guideButton": "User guide",
    "welcome.hintLoggedIn": "You will be taken to AI Central to start chatting.",
    "welcome.hintLoggedOut": "Log in to create projects, save articles and view chat history.",
    "guide.title": "User guide",
    "guide.subtitle": "AI Portal — how to use Main Assistant, projects, writing and saving",
    "guide.searchPlaceholder": "Search questions, guides...",
    "guide.searchResults": "Search results ({count})",
    "guide.noResults": "No matching results",
    "guide.quickLinks": "Quick links",
    "guide.quickLinksDesc": "Common links",
    "guide.linkWelcome": "Welcome page",
    "guide.linkWelcomeDesc": "Back to start",
    "guide.linkCentral": "Main Assistant",
    "guide.linkCentralDesc": "Write and chat with AI",
    "guide.cat0.title": "Getting started",
    "guide.cat0.0.q": "What is the Welcome page for?",
    "guide.cat0.0.a": "The Welcome page is the starting point. You can click \"Get started\" to go to the Main Assistant and write, or \"User guide\" for detailed instructions.",
    "guide.cat0.0.tags": "welcome, start",
    "guide.cat0.1.q": "How do I open the writing screen?",
    "guide.cat0.1.a": "From the Welcome page click \"Get started\", or select a project from the sidebar to open the Main Assistant. You will see the editor in the center; click or type in the blank area to start writing.",
    "guide.cat0.1.tags": "writing, main assistant",
    "guide.cat0.2.q": "What sections are in the sidebar?",
    "guide.cat0.2.a": "The sidebar has: (1) My projects — project list; (2) Assistants — choose AI assistant; (3) Chat history — sessions. Click each section header (or arrow) to collapse/expand.",
    "guide.cat0.2.tags": "sidebar, projects, assistants, history",
    "guide.cat1.title": "Project",
    "guide.cat1.0.q": "How do I create a new project?",
    "guide.cat1.0.a": "In the sidebar, click \"+\" or \"Add project\" in \"My projects\". Enter name and description (optional) and save. After creating, the URL will have the rid (project id) and you can save articles to that project.",
    "guide.cat1.0.tags": "project, create",
    "guide.cat1.1.q": "Why does Save say \"Need to create or select a project\"?",
    "guide.cat1.1.a": "Articles are only saved when linked to a project. If you have not selected a project (or opened Main Assistant without rid), click \"Create new project\" in the dialog or pick a project from the sidebar. Then Save will save to that project.",
    "guide.cat1.1.tags": "save, project",
    "guide.cat1.2.q": "How do I edit project name/description?",
    "guide.cat1.2.a": "When you click a project in the sidebar (My projects), the main area shows project info (read-only). The chat assistant is in the floating widget at the bottom right.",
    "guide.cat1.2.tags": "edit, project",
    "guide.cat2.title": "Writing and saving",
    "guide.cat2.0.q": "How do I start writing?",
    "guide.cat2.0.a": "Open the Main Assistant, click in the large blank area (or anywhere in the editor). The cursor appears and you can type. When the editor is empty you can also pick a quick template: \"Create article\", \"Outline\", \"Progress report\" or \"More\" for more templates.",
    "guide.cat2.0.tags": "editor, template",
    "guide.cat2.1.q": "Does the article auto-save?",
    "guide.cat2.1.a": "Draft content is stored temporarily in the browser. To save to the system (per project), click \"Save\" on the menu bar (after selecting or creating a project). The system may also auto-sync periodically when a project is set.",
    "guide.cat2.1.tags": "save, auto-save",
    "guide.cat2.2.q": "How do I export to Word or PDF?",
    "guide.cat2.2.a": "On the editor toolbar, open the \"Export\" menu (down arrow). Choose Word (.docx), PDF, HTML, LaTeX or Markdown. The file will download.",
    "guide.cat2.2.tags": "export, Word, PDF",
    "guide.cat3.title": "AI assistant and chat",
    "guide.cat3.0.q": "What is the Main Assistant and floating chat?",
    "guide.cat3.0.a": "The Main Assistant is the main screen for writing (editor) with a floating chat to talk to AI. You can write and ask the AI in the chat. Other assistants (e.g. Data Assistant) have their own UI; select from the sidebar.",
    "guide.cat3.0.tags": "chat, floating, AI",
    "guide.cat3.1.q": "How do I view chat history?",
    "guide.cat3.1.a": "In the sidebar, open \"Chat history\". The list of sessions appears; click one to reopen. For each project you can click the three dots next to the project name and choose \"View chat\" for that project's chat.",
    "guide.cat3.1.tags": "history, chat",
    "guide.cat3.2.q": "How do I switch between assistants?",
    "guide.cat3.2.a": "In the \"Assistants\" section on the sidebar, click the assistant name (Main Assistant, Data Assistant, etc.) to switch. Click \"See more\" for the full list.",
    "guide.cat3.2.tags": "assistants, switch",
    "guide.cat4.title": "Tips and shortcuts",
    "guide.cat4.0.q": "Any shortcuts when writing?",
    "guide.cat4.0.a": "Ctrl/Cmd + S to save; Ctrl/Cmd + Z/Y for undo/redo; Ctrl/Cmd + B/I/U for bold, italic, underline. Use the format toolbar above the editor for font, size, table, image, citation, formula.",
    "guide.cat4.0.tags": "shortcuts, format",
    "guide.cat4.1.q": "Citations and references?",
    "guide.cat4.1.a": "On the toolbar, open the \"Citations\" menu to manage references (add, edit, delete) and insert citations (APA, IEEE). You can export the reference list to BibTeX, EndNote, RefMan, RefWorks.",
    "guide.cat4.1.tags": "citations, references",
  },
  zh: {
    "settings.title": "系统设置",
    "settings.subtitle": "自定义您的 AI 门户体验",
    "settings.appearance": "外观",
    "settings.appearanceDesc": "语言与显示",
    "settings.language": "语言",
    "settings.theme": "主题",
    "settings.themeLight": "浅色",
    "settings.themeDark": "深色",
    "settings.themeSystem": "跟随系统",
    "settings.langVi": "Tiếng Việt",
    "settings.langEn": "English",
    "settings.langZh": "中文",
    "settings.langHi": "हिन्दी",
    "settings.langEs": "Español",
    "settings.notifications": "通知",
    "settings.notificationsDesc": "管理通知类型。默认关闭；启用后邮件将发送到下方地址。",
    "settings.notificationsEmailTo": "通知将发送至邮箱：",
    "settings.notificationsEmail": "邮件通知",
    "settings.notificationsPush": "推送通知",
    "settings.notificationsProjects": "项目更新",
    "settings.notificationsPublications": "出版机会",
    "settings.privacy": "隐私",
    "settings.privacyDesc": "控制可见信息。默认关闭；更改将保存到您的账户。",
    "settings.privacyProfile": "个人资料可见",
    "settings.privacyProjects": "项目可见",
    "settings.privacyPublications": "出版物可见",
    "settings.ai": "AI 助手",
    "settings.aiDesc": "自定义 AI 行为",
    "settings.aiPersonalization": "个性化",
    "settings.aiAutoSuggestions": "自动建议",
    "settings.aiExternalSearch": "从外部来源搜索信息",
    "settings.aiResponseLength": "回复长度",
    "settings.aiResponseShort": "短",
    "settings.aiResponseMedium": "中",
    "settings.aiResponseLong": "长",
    "settings.aiCreativity": "创造性",
    "settings.data": "数据",
    "settings.dataDesc": "存储与同步",
    "settings.dataAutoBackup": "自动备份",
    "settings.dataSync": "云同步",
    "settings.dataCacheSize": "缓存大小",
    "settings.dataClearCache": "清除缓存",
    "settings.dataExport": "导出数据",
    "settings.save": "保存设置",
    "settings.saving": "保存中...",
    "settings.saved": "设置已保存",
    "common.save": "保存",
    "common.saving": "保存中…",
    "common.add": "添加",
    "common.cancel": "取消",
    "common.delete": "删除",
    "common.loading": "加载中…",
    "common.error": "错误",
    "common.refresh": "刷新",
    "common.actions": "操作",
    "common.filter": "筛选",
    "common.upload": "上传",
    "admin.settings.languageTitle": "语言配置",
    "admin.settings.languageDesc": "选择网站默认语言。JSON 文件为初始配置；可下载模板编辑后上传到 data/locales。",
    "admin.settings.defaultLocaleSaved": "已保存默认语言。界面将更新为新语言。",
    "admin.settings.defaultLocale": "默认语言",
    "admin.settings.localePackage": "语言包",
    "admin.settings.downloadTemplate": "下载语言包模板",
    "admin.settings.localeCodePlaceholder": "语言代码（如 fr, de）",
    "admin.settings.uploadPackage": "上传包",
    "admin.settings.uploading": "上传中…",
    "admin.settings.pluginQdrant": "Qdrant 插件",
    "admin.settings.pluginQdrantDesc": "启用插件以在 Admin 中显示 Qdrant 标签页；输入 Qdrant URL 管理向量库。",
    "admin.settings.enablePluginQdrant": "启用 Qdrant 插件",
    "admin.settings.qdrantUrl": "Qdrant URL",
    "admin.settings.qdrantUrlPlaceholder": "http://localhost:8010 或 http://qdrant:6333",
    "admin.settings.qdrantSaved": "已保存。启用插件后将显示 Qdrant 标签页。",
    "admin.settings.envConfigTitle": "环境配置（只读）",
    "admin.settings.envConfigDesc": "应用名、图标、数据库：在 /setup 配置。以下变量可通过 Admin 保存并从 app_settings 加载。",
    "admin.settings.resetTitle": "重置应用",
    "admin.settings.resetDesc": "删除所有数据并重新执行 schema.sql — 应用恢复初始状态。不可恢复。",
    "admin.settings.resetConfirmLabel": "输入 RESET 确认",
    "admin.settings.resetConfirmError": "请输入 RESET（大写）以确认。",
    "admin.settings.resetConfirmDialog": "确定要删除所有数据并重置吗？此操作不可恢复。",
    "admin.settings.resetDone": "数据库已重置。",
    "admin.settings.resetting": "重置中…",
    "admin.settings.resetDatabase": "重置数据库",
    "admin.settings.secretValue": "（值已隐藏）",
    "admin.settings.loading": "正在加载配置…",
    "admin.settings.loadError": "加载配置失败",
    "common.saveError": "保存错误",
    "admin.settings.localePackageErrorFile": "文件必须包含 'strings' 对象（键值对）。",
    "admin.settings.localePackageErrorInvalid": "无效的 JSON 文件。",
    "admin.settings.localePackageErrorUpload": "上传失败。",
    "admin.settings.localePackageSuccess": "已为语言 \"{locale}\" 添加 {count} 条字符串。",
    "nav.home": "返回首页",
    "nav.adminTitle": "管理后台",
    "nav.adminShort": "管理",
    "welcome.subtitle": "面向教学与工作的 AI 平台",
    "welcome.card1.title": "主助手",
    "welcome.card1.description": "交流想法、查找文档，支持写作与数据处理。",
    "welcome.card2.title": "项目",
    "welcome.card2.description": "创建和管理项目，每个项目对应独立文章。",
    "welcome.card3.title": "撰写文章",
    "welcome.card3.description": "按标准十步流程支持构思与写作",
    "welcome.card4.title": "专业助手",
    "welcome.card4.description": "选择其他专业助手协助工作",
    "welcome.startButton": "开始使用",
    "welcome.loginButton": "登录",
    "welcome.guideButton": "使用指南",
    "welcome.hintLoggedIn": "将跳转到 AI Central 开始对话。",
    "welcome.hintLoggedOut": "登录后可创建项目、保存文章并查看聊天记录。",
    "guide.title": "使用指南",
    "guide.subtitle": "AI Portal — 主助手、项目、写作与保存",
    "guide.searchPlaceholder": "搜索问题、指南…",
    "guide.searchResults": "搜索结果（{count}）",
    "guide.noResults": "未找到匹配结果",
    "guide.quickLinks": "快捷链接",
    "guide.quickLinksDesc": "常用链接",
    "guide.linkWelcome": "欢迎页",
    "guide.linkWelcomeDesc": "返回起点",
    "guide.linkCentral": "主助手",
    "guide.linkCentralDesc": "写作并与 AI 对话",
    "guide.cat0.title": "入门",
    "guide.cat0.0.q": "欢迎页有什么用？",
    "guide.cat0.0.a": "欢迎页是起点。可点击「开始使用」进入主助手写作，或「使用指南」查看详细说明。",
    "guide.cat0.0.tags": "welcome, 入门",
    "guide.cat0.1.q": "如何打开写作界面？",
    "guide.cat0.1.a": "在欢迎页点击「开始使用」，或在侧栏选择项目进入主助手。中间为编辑区，点击空白处即可开始输入。",
    "guide.cat0.1.tags": "写作, 主助手",
    "guide.cat0.2.q": "侧栏有哪些部分？",
    "guide.cat0.2.a": "侧栏包含：(1) 我的项目 — 项目列表；(2) 助手 — 选择 AI 助手；(3) 聊天记录 — 会话列表。点击标题或箭头可折叠/展开。",
    "guide.cat0.2.tags": "侧栏, 项目, 助手, 历史",
    "guide.cat1.title": "项目",
    "guide.cat1.0.q": "如何创建新项目？",
    "guide.cat1.0.a": "在侧栏「我的项目」中点击「+」或「添加项目」。填写名称和描述（可选）后保存。创建后 URL 会带 rid 参数，可将文章保存到该项目。",
    "guide.cat1.0.tags": "项目, 创建",
    "guide.cat1.1.q": "为什么保存时提示「需要创建或选择项目」？",
    "guide.cat1.1.a": "文章必须关联项目才能保存。若未选项目（或直接打开主助手无 rid），请在弹窗中「创建新项目」或从侧栏选择项目后再保存。",
    "guide.cat1.1.tags": "保存, 项目",
    "guide.cat1.2.q": "如何编辑项目名称/描述？",
    "guide.cat1.2.a": "在侧栏点击某项目时，主区域显示项目信息（只读）。聊天助手在右下角浮动窗口中。",
    "guide.cat1.2.tags": "编辑, 项目",
    "guide.cat2.title": "写作与保存",
    "guide.cat2.0.q": "如何开始写作？",
    "guide.cat2.0.a": "进入主助手，点击下方空白区域或编辑区内任意处即可输入。编辑器为空时也可选择快捷模板：「创建文章」「提纲」「进度报告」或「更多」。",
    "guide.cat2.0.tags": "编辑, 模板",
    "guide.cat2.1.q": "文章会自动保存吗？",
    "guide.cat2.1.a": "草稿暂存于浏览器。要保存到系统（按项目）需点击菜单栏「保存」（需已选或创建项目）。系统在已设项目时也可能定期自动同步。",
    "guide.cat2.1.tags": "保存, 自动保存",
    "guide.cat2.2.q": "如何导出 Word、PDF？",
    "guide.cat2.2.a": "在编辑器工具栏打开「导出」菜单（下箭头），选择 Word (.docx)、PDF、HTML、LaTeX 或 Markdown，文件将下载。",
    "guide.cat2.2.tags": "导出, Word, PDF",
    "guide.cat3.title": "AI 助手与聊天",
    "guide.cat3.0.q": "主助手和浮动聊天是什么？",
    "guide.cat3.0.a": "主助手是写作主界面（编辑器）并带浮动聊天与 AI 对话。其他助手（如数据助手）有独立界面，从侧栏选择。",
    "guide.cat3.0.tags": "聊天, 浮动, AI",
    "guide.cat3.1.q": "如何查看聊天记录？",
    "guide.cat3.1.a": "在侧栏打开「聊天记录」，点击某会话即可重新打开。每个项目可点击名称旁三点菜单选「查看聊天」查看该项目的聊天。",
    "guide.cat3.1.tags": "历史, 聊天",
    "guide.cat3.2.q": "如何切换助手？",
    "guide.cat3.2.a": "在侧栏「助手」部分点击助手名称（主助手、数据助手等）即可切换。点击「查看更多」可看完整列表。",
    "guide.cat3.2.tags": "助手, 切换",
    "guide.cat4.title": "技巧与快捷键",
    "guide.cat4.0.q": "写作时有哪些快捷键？",
    "guide.cat4.0.a": "Ctrl/Cmd + S 保存；Ctrl/Cmd + Z/Y 撤销/重做；Ctrl/Cmd + B/I/U 加粗/斜体/下划线。可用编辑器上方格式工具栏设置字体、表格、图片、引用、公式。",
    "guide.cat4.0.tags": "快捷键, 格式",
    "guide.cat4.1.q": "引用与参考文献？",
    "guide.cat4.1.a": "在工具栏打开「引用」菜单可管理参考文献（增删改）并插入引用（APA、IEEE）。可导出为 BibTeX、EndNote、RefMan、RefWorks。",
    "guide.cat4.1.tags": "引用, 参考文献",
  },
  hi: {
    "settings.title": "सिस्टम सेटिंग्स",
    "settings.subtitle": "अपने AI पोर्टल अनुभव को अनुकूलित करें",
    "settings.appearance": "दिखावट",
    "settings.appearanceDesc": "भाषा और प्रदर्शन",
    "settings.language": "भाषा",
    "settings.theme": "थीम",
    "settings.themeLight": "हल्का",
    "settings.themeDark": "गहरा",
    "settings.themeSystem": "सिस्टम",
    "settings.langVi": "Tiếng Việt",
    "settings.langEn": "English",
    "settings.langZh": "中文",
    "settings.langHi": "हिन्दी",
    "settings.langEs": "Español",
    "settings.notifications": "सूचनाएं",
    "settings.notificationsDesc": "सूचना प्रकार प्रबंधित करें। डिफ़ॉल्ट: बंद; सक्षम होने पर ईमेल नीचे पते पर भेजा जाएगा।",
    "settings.notificationsEmailTo": "सूचनाएं इस ईमेल पर भेजी जाएंगी:",
    "settings.notificationsEmail": "ईमेल सूचनाएं",
    "settings.notificationsPush": "पुश सूचनाएं",
    "settings.notificationsProjects": "परियोजना अपडेट",
    "settings.notificationsPublications": "प्रकाशन अवसर",
    "settings.privacy": "गोपनीयता",
    "settings.privacyDesc": "दृश्य जानकारी नियंत्रित करें। डिफ़ॉल्ट: बंद; परिवर्तन आपके खाते में सहेजे जाते हैं।",
    "settings.privacyProfile": "प्रोफ़ाइल दृश्यमान",
    "settings.privacyProjects": "परियोजनाएं दृश्यमान",
    "settings.privacyPublications": "प्रकाशन दृश्यमान",
    "settings.ai": "AI सहायक",
    "settings.aiDesc": "AI व्यवहार अनुकूलित करें",
    "settings.aiPersonalization": "निजीकरण",
    "settings.aiAutoSuggestions": "स्वतः सुझाव",
    "settings.aiExternalSearch": "बाहरी स्रोतों से जानकारी खोजें",
    "settings.aiResponseLength": "प्रतिक्रिया लंबाई",
    "settings.aiResponseShort": "छोटा",
    "settings.aiResponseMedium": "मध्यम",
    "settings.aiResponseLong": "लंबा",
    "settings.aiCreativity": "रचनात्मकता",
    "settings.data": "डेटा",
    "settings.dataDesc": "स्टोरेज और सिंक",
    "settings.dataAutoBackup": "ऑटो बैकअप",
    "settings.dataSync": "क्लाउड सिंक",
    "settings.dataCacheSize": "कैश आकार",
    "settings.dataClearCache": "कैश साफ़ करें",
    "settings.dataExport": "डेटा निर्यात",
    "settings.save": "सेटिंग्स सहेजें",
    "settings.saving": "सहेज रहा है...",
    "settings.saved": "सेटिंग्स सहेजी गईं",
    "common.save": "सहेजें",
    "common.saving": "सहेज रहा है…",
    "common.add": "जोड़ें",
    "common.cancel": "रद्द करें",
    "common.delete": "हटाएं",
    "common.loading": "लोड हो रहा है…",
    "common.error": "त्रुटि",
    "common.refresh": "रीफ्रेश",
    "common.actions": "कार्रवाई",
    "common.filter": "फ़िल्टर",
    "common.upload": "अपलोड",
    "admin.settings.languageTitle": "भाषा कॉन्फ़िगरेशन",
    "admin.settings.languageDesc": "वेबसाइट के लिए डिफ़ॉल्ट भाषा चुनें। JSON फ़ाइलें प्रारंभिक कॉन्फ़िगरेशन हैं; टेम्पलेट डाउनलोड करके data/locales में अपलोड कर सकते हैं।",
    "admin.settings.defaultLocaleSaved": "डिफ़ॉल्ट भाषा सहेजी गई। इंटरफ़ेस नई भाषा में अपडेट होगा।",
    "admin.settings.defaultLocale": "डिफ़ॉल्ट भाषा",
    "admin.settings.localePackage": "भाषा पैकेज",
    "admin.settings.downloadTemplate": "भाषा पैकेज टेम्पलेट डाउनलोड करें",
    "admin.settings.localeCodePlaceholder": "लोकेल कोड (जैसे fr, de)",
    "admin.settings.uploadPackage": "पैकेज अपलोड करें",
    "admin.settings.uploading": "अपलोड हो रहा है…",
    "admin.settings.pluginQdrant": "Qdrant प्लगइन",
    "admin.settings.pluginQdrantDesc": "Admin में Qdrant टैब दिखाने के लिए प्लगइन सक्षम करें; वेक्टर DB प्रबंधित करने के लिए Qdrant URL दर्ज करें।",
    "admin.settings.enablePluginQdrant": "Qdrant प्लगइन सक्षम करें",
    "admin.settings.qdrantUrl": "Qdrant URL",
    "admin.settings.qdrantUrlPlaceholder": "http://localhost:8010 या http://qdrant:6333",
    "admin.settings.qdrantSaved": "सहेजा गया। प्लगइन सक्षम होने पर Qdrant टैब दिखेगा।",
    "admin.settings.envConfigTitle": "पर्यावरण कॉन्फ़िग (केवल पढ़ने के लिए)",
    "admin.settings.envConfigDesc": "ऐप नाम, आइकन, डेटाबेस: /setup पर कॉन्फ़िगर करें। नीचे के चर Admin के माध्यम से सहेजे जा सकते हैं और app_settings से लोड होते हैं।",
    "admin.settings.resetTitle": "ऐप रीसेट करें",
    "admin.settings.resetDesc": "सभी डेटा हटाएं और schema.sql फिर से चलाएं — ऐप ताज़ा स्थापना स्थिति में वापस आ जाएगा। पूर्ववत नहीं किया जा सकता।",
    "admin.settings.resetConfirmLabel": "पुष्टि करने के लिए RESET टाइप करें",
    "admin.settings.resetConfirmError": "पुष्टि करने के लिए RESET (बड़े अक्षरों में) टाइप करें।",
    "admin.settings.resetConfirmDialog": "क्या आप वाकई सभी डेटा हटाकर रीसेट करना चाहते हैं? इसे पूर्ववत नहीं किया जा सकता।",
    "admin.settings.resetDone": "डेटाबेस रीसेट हो गया।",
    "admin.settings.resetting": "रीसेट हो रहा है…",
    "admin.settings.resetDatabase": "डेटाबेस रीसेट करें",
    "admin.settings.secretValue": "(मान छिपा हुआ)",
    "admin.settings.loading": "कॉन्फ़िग लोड हो रहा है…",
    "admin.settings.loadError": "कॉन्फ़िग लोड करने में विफल",
    "common.saveError": "सहेजने में त्रुटि",
    "admin.settings.localePackageErrorFile": "फ़ाइल में 'strings' ऑब्जेक्ट (key-value जोड़े) होना चाहिए।",
    "admin.settings.localePackageErrorInvalid": "अमान्य JSON फ़ाइल।",
    "admin.settings.localePackageErrorUpload": "अपलोड विफल।",
    "admin.settings.localePackageSuccess": "लोकेल \"{locale}\" के लिए {count} स्ट्रिंग जोड़ी गईं।",
    "nav.home": "होम पर वापस",
    "nav.adminTitle": "एडमिन डैशबोर्ड",
    "nav.adminShort": "एडमिन",
    "welcome.subtitle": "शिक्षण और काम के लिए AI प्लेटफ़ॉर्म",
    "welcome.card1.title": "मुख्य सहायक",
    "welcome.card1.description": "विचारों का आदान-प्रदान, दस्तावेज़ खोजें, AI के साथ लेखन और डेटा प्रोसेसिंग।",
    "welcome.card2.title": "प्रोजेक्ट",
    "welcome.card2.description": "प्रोजेक्ट बनाएं और प्रबंधित करें, प्रत्येक प्रोजेक्ट एक अलग लेख से जुड़ा।",
    "welcome.card3.title": "लेख लिखें",
    "welcome.card3.description": "मानक 10-चरण प्रक्रिया के अनुसार लेखन में सहायता",
    "welcome.card4.title": "विशेष सहायक",
    "welcome.card4.description": "काम के लिए अन्य विशेष सहायक चुनें",
    "welcome.startButton": "शुरू करें",
    "welcome.loginButton": "लॉग इन",
    "welcome.guideButton": "उपयोग गाइड",
    "welcome.hintLoggedIn": "आपको चैट शुरू करने के लिए AI Central पर ले जाया जाएगा।",
    "welcome.hintLoggedOut": "प्रोजेक्ट बनाने, लेख सहेजने और चैट इतिहास देखने के लिए लॉग इन करें।",
    "guide.title": "उपयोग गाइड",
    "guide.subtitle": "AI Portal — मुख्य सहायक, प्रोजेक्ट, लेखन और सहेजना",
    "guide.searchPlaceholder": "प्रश्न, गाइड खोजें...",
    "guide.searchResults": "खोज परिणाम ({count})",
    "guide.noResults": "कोई मिलान परिणाम नहीं",
    "guide.quickLinks": "त्वरित लिंक",
    "guide.quickLinksDesc": "सामान्य लिंक",
    "guide.linkWelcome": "स्वागत पृष्ठ",
    "guide.linkWelcomeDesc": "शुरू में वापस",
    "guide.linkCentral": "मुख्य सहायक",
    "guide.linkCentralDesc": "लेखन और AI के साथ चैट",
    "guide.cat0.title": "शुरुआत",
    "guide.cat0.0.q": "स्वागत पृष्ठ किस लिए है?",
    "guide.cat0.0.a": "स्वागत पृष्ठ शुरुआती बिंदु है। \"शुरू करें\" से मुख्य सहायक में जाएं या \"उपयोग गाइड\" देखें।",
    "guide.cat0.0.tags": "welcome, शुरू",
    "guide.cat0.1.q": "लेखन स्क्रीन कैसे खोलें?",
    "guide.cat0.1.a": "स्वागत पृष्ठ पर \"शुरू करें\" क्लिक करें या साइडबार से प्रोजेक्ट चुनें। बीच में एडिटर दिखेगा; खाली जगह क्लिक करके टाइप करें।",
    "guide.cat0.1.tags": "लेखन, मुख्य सहायक",
    "guide.cat0.2.q": "साइडबार में कौन से खंड हैं?",
    "guide.cat0.2.a": "साइडबार: (1) मेरे प्रोजेक्ट — सूची; (2) सहायक — AI चुनें; (3) चैट इतिहास — सत्र। शीर्षक/तीर से संक्षिप्त/विस्तार करें।",
    "guide.cat0.2.tags": "साइडबार, प्रोजेक्ट, सहायक, इतिहास",
    "guide.cat1.title": "प्रोजेक्ट",
    "guide.cat1.0.q": "नया प्रोजेक्ट कैसे बनाएं?",
    "guide.cat1.0.a": "साइडबार में \"मेरे प्रोजेक्ट\" के तहत \"+\" या \"प्रोजेक्ट जोड़ें\" क्लिक करें। नाम और विवरण भरकर सहेजें। बनाने के बाद URL में rid होगा।",
    "guide.cat1.0.tags": "प्रोजेक्ट, बनाएं",
    "guide.cat1.1.q": "सहेजें पर \"प्रोजेक्ट बनाएं या चुनें\" क्यों आता है?",
    "guide.cat1.1.a": "लेख केवल प्रोजेक्ट से जुड़े होने पर सहेजे जाते हैं। डायलॉग में \"नया प्रोजेक्ट बनाएं\" या साइडबार से प्रोजेक्ट चुनें।",
    "guide.cat1.1.tags": "सहेजें, प्रोजेक्ट",
    "guide.cat1.2.q": "प्रोजेक्ट नाम/विवरण कैसे संपादित करें?",
    "guide.cat1.2.a": "साइडबार में प्रोजेक्ट क्लिक करने पर मुख्य क्षेत्र में जानकारी (केवल पढ़ने) दिखती है। चैट विजेट नीचे दाएं में।",
    "guide.cat1.2.tags": "संपादित, प्रोजेक्ट",
    "guide.cat2.title": "लेखन और सहेजना",
    "guide.cat2.0.q": "लेखन कैसे शुरू करें?",
    "guide.cat2.0.a": "मुख्य सहायक खोलें, बड़े खाली क्षेत्र में क्लिक करें। एडिटर खाली होने पर टेम्पलेट चुन सकते हैं।",
    "guide.cat2.0.tags": "एडिटर, टेम्पलेट",
    "guide.cat2.1.q": "लेख ऑटो-सेव होता है?",
    "guide.cat2.1.a": "ड्राफ्ट ब्राउज़र में अस्थायी रूप से रहता है। सिस्टम में सहेजने के लिए मेनू बार पर \"सहेजें\" क्लिक करें (प्रोजेक्ट चुनने के बाद)।",
    "guide.cat2.1.tags": "सहेजें, ऑटो-सेव",
    "guide.cat2.2.q": "Word, PDF में कैसे निर्यात करें?",
    "guide.cat2.2.a": "एडिटर टूलबार पर \"निर्यात\" मेनू खोलें। Word (.docx), PDF, HTML, LaTeX या Markdown चुनें।",
    "guide.cat2.2.tags": "निर्यात, Word, PDF",
    "guide.cat3.title": "AI सहायक और चैट",
    "guide.cat3.0.q": "मुख्य सहायक और फ्लोटिंग चैट क्या है?",
    "guide.cat3.0.a": "मुख्य सहायक लेखन का मुख्य स्क्रीन है (एडिटर) और AI से बात करने के लिए फ्लोटिंग चैट। अन्य सहायक साइडबार से चुनें।",
    "guide.cat3.0.tags": "चैट, फ्लोटिंग, AI",
    "guide.cat3.1.q": "चैट इतिहास कैसे देखें?",
    "guide.cat3.1.a": "साइडबार में \"चैट इतिहास\" खोलें। सत्र सूची दिखेगी; एक पर क्लिक करें। प्रोजेक्ट के तीन बिंदु मेनू से \"चैट देखें\"।",
    "guide.cat3.1.tags": "इतिहास, चैट",
    "guide.cat3.2.q": "सहायक कैसे बदलें?",
    "guide.cat3.2.a": "साइडबार में \"सहायक\" में नाम पर क्लिक करें। \"और देखें\" से पूरी सूची।",
    "guide.cat3.2.tags": "सहायक, बदलें",
    "guide.cat4.title": "टिप्स और शॉर्टकट",
    "guide.cat4.0.q": "लेखन के शॉर्टकट?",
    "guide.cat4.0.a": "Ctrl/Cmd + S सहेजें; Ctrl/Cmd + Z/Y पूर्ववत/फिर से; Ctrl/Cmd + B/I/U बोल्ड/इटैलिक/अंडरलाइन। टूलबार से फॉन्ट, टेबल, छवि, उद्धरण।",
    "guide.cat4.0.tags": "शॉर्टकट, फॉर्मेट",
    "guide.cat4.1.q": "उद्धरण और संदर्भ?",
    "guide.cat4.1.a": "टूलबार पर \"उद्धरण\" मेनू से संदर्भ प्रबंधित करें और उद्धरण डालें (APA, IEEE)। BibTeX, EndNote निर्यात कर सकते हैं।",
    "guide.cat4.1.tags": "उद्धरण, संदर्भ",
  },
  es: {
    "settings.title": "Configuración del sistema",
    "settings.subtitle": "Personaliza tu experiencia en AI Portal",
    "settings.appearance": "Apariencia",
    "settings.appearanceDesc": "Idioma y visualización",
    "settings.language": "Idioma",
    "settings.theme": "Tema",
    "settings.themeLight": "Claro",
    "settings.themeDark": "Oscuro",
    "settings.themeSystem": "Sistema",
    "settings.langVi": "Tiếng Việt",
    "settings.langEn": "English",
    "settings.langZh": "中文",
    "settings.langHi": "हिन्दी",
    "settings.langEs": "Español",
    "settings.notifications": "Notificaciones",
    "settings.notificationsDesc": "Gestionar tipos de notificación. Por defecto: desactivado; se enviarán al correo indicado si se activa.",
    "settings.notificationsEmailTo": "Las notificaciones se enviarán al correo:",
    "settings.notificationsEmail": "Notificaciones por correo",
    "settings.notificationsPush": "Notificaciones push",
    "settings.notificationsProjects": "Actualizaciones de proyectos",
    "settings.notificationsPublications": "Oportunidades de publicación",
    "settings.privacy": "Privacidad",
    "settings.privacyDesc": "Controlar la información visible. Por defecto: desactivado; los cambios se guardan en tu cuenta.",
    "settings.privacyProfile": "Perfil visible",
    "settings.privacyProjects": "Proyectos visibles",
    "settings.privacyPublications": "Publicaciones visibles",
    "settings.ai": "Asistente AI",
    "settings.aiDesc": "Personalizar el comportamiento del AI",
    "settings.aiPersonalization": "Personalización",
    "settings.aiAutoSuggestions": "Sugerencias automáticas",
    "settings.aiExternalSearch": "Buscar información en fuentes externas",
    "settings.aiResponseLength": "Longitud de respuesta",
    "settings.aiResponseShort": "Corto",
    "settings.aiResponseMedium": "Medio",
    "settings.aiResponseLong": "Largo",
    "settings.aiCreativity": "Creatividad",
    "settings.data": "Datos",
    "settings.dataDesc": "Almacenamiento y sincronización",
    "settings.dataAutoBackup": "Copia de seguridad automática",
    "settings.dataSync": "Sincronización en la nube",
    "settings.dataCacheSize": "Tamaño de caché",
    "settings.dataClearCache": "Borrar caché",
    "settings.dataExport": "Exportar datos",
    "settings.save": "Guardar configuración",
    "settings.saving": "Guardando...",
    "settings.saved": "Configuración guardada",
    "common.save": "Guardar",
    "common.saving": "Guardando…",
    "common.add": "Añadir",
    "common.cancel": "Cancelar",
    "common.delete": "Eliminar",
    "common.loading": "Cargando…",
    "common.error": "Error",
    "common.refresh": "Actualizar",
    "common.actions": "Acciones",
    "common.filter": "Filtrar",
    "common.upload": "Subir",
    "admin.settings.languageTitle": "Configuración de idioma",
    "admin.settings.languageDesc": "Elija el idioma predeterminado del sitio. Los JSON son la config inicial; puede descargar una plantilla, editar y subir a data/locales.",
    "admin.settings.defaultLocaleSaved": "Idioma predeterminado guardado. La interfaz se actualizará al nuevo idioma.",
    "admin.settings.defaultLocale": "Idioma predeterminado",
    "admin.settings.localePackage": "Paquete de idioma",
    "admin.settings.downloadTemplate": "Descargar plantilla de paquete",
    "admin.settings.localeCodePlaceholder": "Código de idioma (ej. fr, de)",
    "admin.settings.uploadPackage": "Subir paquete",
    "admin.settings.uploading": "Subiendo…",
    "admin.settings.pluginQdrant": "Plugin Qdrant",
    "admin.settings.pluginQdrantDesc": "Active el plugin para mostrar la pestaña Qdrant en Admin; introduzca la URL de Qdrant para gestionar la base vectorial.",
    "admin.settings.enablePluginQdrant": "Activar plugin Qdrant",
    "admin.settings.qdrantUrl": "URL de Qdrant",
    "admin.settings.qdrantUrlPlaceholder": "http://localhost:8010 o http://qdrant:6333",
    "admin.settings.qdrantSaved": "Guardado. La pestaña Qdrant aparecerá cuando el plugin esté activado.",
    "admin.settings.envConfigTitle": "Configuración de entorno (solo lectura)",
    "admin.settings.envConfigDesc": "Nombre de app, icono, base de datos: configurar en /setup. Las variables siguientes se guardan por Admin y se cargan desde app_settings.",
    "admin.settings.resetTitle": "Restablecer aplicación",
    "admin.settings.resetDesc": "Eliminar todos los datos y volver a ejecutar schema.sql — la aplicación vuelve al estado inicial. No se puede deshacer.",
    "admin.settings.resetConfirmLabel": "Escriba RESET para confirmar",
    "admin.settings.resetConfirmError": "Escriba RESET (mayúsculas) para confirmar.",
    "admin.settings.resetConfirmDialog": "¿Seguro que desea eliminar todos los datos y restablecer? No se puede deshacer.",
    "admin.settings.resetDone": "Base de datos restablecida.",
    "admin.settings.resetting": "Restableciendo…",
    "admin.settings.resetDatabase": "Restablecer base de datos",
    "admin.settings.secretValue": "(valor oculto)",
    "admin.settings.loading": "Cargando configuración…",
    "admin.settings.loadError": "Error al cargar la configuración",
    "common.saveError": "Error al guardar",
    "admin.settings.localePackageErrorFile": "El archivo debe contener un objeto 'strings' (pares clave-valor).",
    "admin.settings.localePackageErrorInvalid": "Archivo JSON no válido.",
    "admin.settings.localePackageErrorUpload": "Error al subir.",
    "admin.settings.localePackageSuccess": "Se añadieron {count} cadenas para el idioma \"{locale}\".",
    "nav.home": "Volver al inicio",
    "nav.adminTitle": "Panel de administración",
    "nav.adminShort": "Admin",
    "welcome.subtitle": "Plataforma IA para enseñanza y trabajo",
    "welcome.card1.title": "Asistente principal",
    "welcome.card1.description": "Intercambiar ideas, buscar documentos, apoyar redacción y procesamiento de datos con IA.",
    "welcome.card2.title": "Proyecto",
    "welcome.card2.description": "Crear y gestionar proyectos, cada proyecto vinculado a un artículo.",
    "welcome.card3.title": "Escribir artículo",
    "welcome.card3.description": "Ayuda a estructurar y redactar según un proceso estándar de 10 pasos",
    "welcome.card4.title": "Asistente especializado",
    "welcome.card4.description": "Elegir otros asistentes especializados para el trabajo",
    "welcome.startButton": "Comenzar",
    "welcome.loginButton": "Iniciar sesión",
    "welcome.guideButton": "Guía de uso",
    "welcome.hintLoggedIn": "Serás llevado a AI Central para empezar a chatear.",
    "welcome.hintLoggedOut": "Inicia sesión para crear proyectos, guardar artículos y ver historial de chat.",
    "guide.title": "Guía de uso",
    "guide.subtitle": "AI Portal — uso del Asistente principal, proyectos, redacción y guardado",
    "guide.searchPlaceholder": "Buscar preguntas, guías...",
    "guide.searchResults": "Resultados de búsqueda ({count})",
    "guide.noResults": "No hay resultados",
    "guide.quickLinks": "Enlaces rápidos",
    "guide.quickLinksDesc": "Enlaces habituales",
    "guide.linkWelcome": "Página de bienvenida",
    "guide.linkWelcomeDesc": "Volver al inicio",
    "guide.linkCentral": "Asistente principal",
    "guide.linkCentralDesc": "Escribir y chatear con IA",
    "guide.cat0.title": "Primeros pasos",
    "guide.cat0.0.q": "¿Para qué sirve la página de bienvenida?",
    "guide.cat0.0.a": "La página de bienvenida es el punto de partida. Puedes pulsar \"Comenzar\" para ir al Asistente principal y escribir, o \"Guía de uso\" para instrucciones detalladas.",
    "guide.cat0.0.tags": "welcome, inicio",
    "guide.cat0.1.q": "¿Cómo abro la pantalla de escritura?",
    "guide.cat0.1.a": "Desde la página de bienvenida pulsa \"Comenzar\", o elige un proyecto en la barra lateral para abrir el Asistente principal. Verás el editor en el centro; haz clic o escribe en el área en blanco.",
    "guide.cat0.1.tags": "escritura, asistente principal",
    "guide.cat0.2.q": "¿Qué secciones tiene la barra lateral?",
    "guide.cat0.2.a": "La barra lateral: (1) Mis proyectos — lista; (2) Asistentes — elegir asistente IA; (3) Historial de chat — sesiones. Pulsa el título o la flecha para colapsar/expandir.",
    "guide.cat0.2.tags": "barra lateral, proyectos, asistentes, historial",
    "guide.cat1.title": "Proyecto",
    "guide.cat1.0.q": "¿Cómo creo un proyecto nuevo?",
    "guide.cat1.0.a": "En la barra lateral, en \"Mis proyectos\" pulsa \"+\" o \"Añadir proyecto\". Rellena nombre y descripción (opcional) y guarda. Tras crear, la URL tendrá el rid y podrás guardar artículos en ese proyecto.",
    "guide.cat1.0.tags": "proyecto, crear",
    "guide.cat1.1.q": "¿Por qué Guardar dice \"Crear o seleccionar proyecto\"?",
    "guide.cat1.1.a": "Los artículos solo se guardan vinculados a un proyecto. Si no has elegido proyecto (o abriste el Asistente sin rid), pulsa \"Crear proyecto nuevo\" en el diálogo o elige uno en la barra lateral.",
    "guide.cat1.1.tags": "guardar, proyecto",
    "guide.cat1.2.q": "¿Cómo edito nombre/descripción del proyecto?",
    "guide.cat1.2.a": "Al pulsar un proyecto en la barra lateral, el área principal muestra la información (solo lectura). El chat está en el widget flotante abajo a la derecha.",
    "guide.cat1.2.tags": "editar, proyecto",
    "guide.cat2.title": "Escritura y guardado",
    "guide.cat2.0.q": "¿Cómo empiezo a escribir?",
    "guide.cat2.0.a": "Abre el Asistente principal, haz clic en el área en blanco grande (o en cualquier parte del editor). Puedes elegir plantilla rápida si el editor está vacío.",
    "guide.cat2.0.tags": "editor, plantilla",
    "guide.cat2.1.q": "¿El artículo se guarda solo?",
    "guide.cat2.1.a": "El borrador se guarda temporalmente en el navegador. Para guardar en el sistema (por proyecto), pulsa \"Guardar\" en la barra de menú (tras elegir o crear proyecto).",
    "guide.cat2.1.tags": "guardar, auto-guardado",
    "guide.cat2.2.q": "¿Cómo exporto a Word o PDF?",
    "guide.cat2.2.a": "En la barra del editor, abre el menú \"Exportar\" (flecha abajo). Elige Word (.docx), PDF, HTML, LaTeX o Markdown. Se descargará el archivo.",
    "guide.cat2.2.tags": "exportar, Word, PDF",
    "guide.cat3.title": "Asistente IA y chat",
    "guide.cat3.0.q": "¿Qué es el Asistente principal y el chat flotante?",
    "guide.cat3.0.a": "El Asistente principal es la pantalla de escritura (editor) con un chat flotante para hablar con la IA. Otros asistentes tienen su propia interfaz; elige desde la barra lateral.",
    "guide.cat3.0.tags": "chat, flotante, IA",
    "guide.cat3.1.q": "¿Cómo veo el historial de chat?",
    "guide.cat3.1.a": "En la barra lateral abre \"Historial de chat\". Aparece la lista de sesiones; pulsa una para reabrirla. Por proyecto puedes usar el menú de tres puntos y \"Ver chat\".",
    "guide.cat3.1.tags": "historial, chat",
    "guide.cat3.2.q": "¿Cómo cambio de asistente?",
    "guide.cat3.2.a": "En la barra lateral, en \"Asistentes\", pulsa el nombre del asistente (Asistente principal, de Datos, etc.). \"Ver más\" para la lista completa.",
    "guide.cat3.2.tags": "asistentes, cambiar",
    "guide.cat4.title": "Consejos y atajos",
    "guide.cat4.0.q": "¿Hay atajos al escribir?",
    "guide.cat4.0.a": "Ctrl/Cmd + S guardar; Ctrl/Cmd + Z/Y deshacer/rehacer; Ctrl/Cmd + B/I/U negrita/cursiva/subrayado. Usa la barra de formato del editor para fuente, tabla, imagen, cita, fórmula.",
    "guide.cat4.0.tags": "atajos, formato",
    "guide.cat4.1.q": "¿Citas y referencias?",
    "guide.cat4.1.a": "En la barra, abre el menú \"Citas\" para gestionar referencias (añadir, editar, eliminar) e insertar citas (APA, IEEE). Puedes exportar a BibTeX, EndNote, RefMan, RefWorks.",
    "guide.cat4.1.tags": "citas, referencias",
  },
}

export function t(locale: Locale, key: string): string {
  const loc = String(locale)
  const builtin = BUILTIN_LOCALES.includes(loc as BuiltinLocale) ? translations[loc as BuiltinLocale]?.[key] : undefined
  if (builtin) return builtin
  return translations.en?.[key] ?? translations.vi?.[key] ?? key
}

const LOCALE_LABEL_KEYS: Record<BuiltinLocale, string> = {
  vi: "settings.langVi",
  en: "settings.langEn",
  zh: "settings.langZh",
  hi: "settings.langHi",
  es: "settings.langEs",
}

/** Display label for locale. Built-in: native name; custom: code. */
export function getLocaleLabel(locale: string): string {
  if (BUILTIN_LOCALES.includes(locale as BuiltinLocale))
    return translations[locale as BuiltinLocale]?.[LOCALE_LABEL_KEYS[locale as BuiltinLocale]] ?? locale
  return locale
}
